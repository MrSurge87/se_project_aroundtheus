!function(){"use strict";class e{constructor(e,t,s){let{handleImageClick:i,handleDeleteClick:r,handleCardLike:n}=s;this._name=e.name,this._link=e.link,this.isLiked=e.isLiked,this.id=e._id,this._cardSelector=t,this._handleImageClick=i,this._handleDeleteClick=r,this._handleCardLike=n}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>this._handleCardLike(this))),this._cardElement.querySelector(".card__button-delete").addEventListener("click",(()=>this._handleDeleteClick(this)))}setLikeStatus(e){this.isLiked=e,this._renderLikes()}_renderLikes(){this.isLiked?this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_active"):this._cardElement.querySelector(".card__like-button").classList.remove("card__like-button_active")}removeCard(){this._cardElement.remove()}getCard(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardImage.style.backgroundImage=`url(${this._link})`,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardImage.addEventListener("click",this._handleImageClick),this._setEventListeners(),this._renderLikes(),this._cardElement}getId(){return this.id}}class t{constructor(e){this._popupElement=document.querySelector(e),this._popupClose=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._closeModalEscape)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._closeModalEscape)}_closeModalEscape=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}}class s extends t{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._popupSubmit=this._popupElement.querySelector(".modal__button")}_getInputValues(){const e=this._popupForm.querySelectorAll(".modal__input"),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setSubmitText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._popupSubmit.textContent=e?t:"Save"}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())}))}close(){this._popupForm.reset(),super.close()}}var i=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState(this._inputEls)}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};const r=document.querySelector("#profile-edit-modal"),n=document.querySelector("#profile-edit-button"),o=document.querySelector(".profile__add-button"),a=document.querySelector("#profile__name"),l=document.querySelector("#profile__description"),c=document.querySelector(".profile__image-button"),d=document.querySelector("#profile__image-edit"),u=document.querySelector("#modal-input-url"),h=document.querySelector(".profile__image"),_=r.querySelector(".modal__form"),m=document.querySelector("#modal-input-name"),p=document.querySelector("#modal-input-description"),S=(document.querySelector("#modal-input-title"),document.querySelector("#modal-Url"),document.querySelector("#add-new-card")),v=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s,this._authorization=s.authorization,this._contentType=s["Content-Type"]}_checkResponseOk(e){if(e.ok)return e.json();Promise.reject(`Erorr: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponseOk)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponseOk)}profileUpdate(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",body:JSON.stringify({name:e.title,about:e.about}),headers:this._headers}).then(this._checkResponseOk)}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",body:JSON.stringify({name:e,link:t}),headers:this._headers}).then(this._checkResponseOk)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponseOk)}cardLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponseOk)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponseOk)}updateProfileAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponseOk)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5f2b588a-250e-4922-b74a-306ecb82bfe6","Content-Type":"application/json"}}),E={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},b=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){console.log("CARDS",e),e.forEach(this._renderer)}addItem(e){this._container.prepend(e)}}({renderer:k},".cards__list");function k(t){const s=new e(i=t,"#card-template",{handleImageClick:()=>f.open(i),handleDeleteClick:g,handleCardLike:U});var i;b.addItem(s.getCard())}const f=new class extends t{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image-preview"),this._caption=document.querySelector(".modal__image-preview-title")}open(e){super.open(),this._image.src=e.link,this._image.alt=`Photo of ${e.name}`,this._caption.textContent=e.name}}("#preview-image-modal");f.setEventListeners();const L=new class extends t{constructor(e){super(e),this._popupConfirm=this._popupElement.querySelector(".modal__form"),this._popupSubmit=this._popupElement.querySelector(".modal__button-delete")}setSubmitAction(e){this._handleFormSubmit=e}setSubmitText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._popupSubmit.textContent=e?t:"Yes"}setEventListeners(){this._popupConfirm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}}("#card__delete-modal");function g(e){L.open(),L.setSubmitAction((()=>{L.setSubmitText(!0,"Deleting..."),v.deleteCard(e.id).then((()=>{L.setSubmitText(!0,"Deleted..."),L.close(),e.removeCard()})).catch((e=>console.log(e))).finally((()=>L.setSubmitText(!1)))}))}L.setEventListeners();const y=new s("#add-new-card",(function(e){const t=e.name,s=e.url;y.setSubmitText(!0,"Saving..."),v.addCard(t,s).then((e=>{k(e),y.setSubmitText(!1),y.close()})).catch((e=>{console.log(e)}))})),C=new s("#profile-edit-modal",(function(e){C.setSubmitText(!0,"Saving..."),v.profileUpdate(e).then((()=>{T.setUserInfo(e),C.setSubmitText(!1),C.close()})).catch((e=>{console.log(e)}))})),q=new s("#profile__image-edit",(function(){const e=u.value;v.updateProfileAvatar(e).then((()=>{h.src=e,q.close()})).catch((e=>{console.log(e)}))}));C.setEventListeners(),q.setEventListeners(),y.setEventListeners();const I=new i(E,_),x=new i(E,d),w=new i(E,S);function U(e){e.isLiked?v.removeLike(e.getId()).then((t=>{e.setLikeStatus(t.isLiked)})).catch((e=>{console.log(e)})):v.cardLike(e.getId()).then((t=>{e.setLikeStatus(t.isLiked)})).catch((e=>{console.log(e)}))}I.enableValidation(),x.enableValidation(),w.enableValidation();const T=new class{constructor(e,t,s){this._name=document.querySelector(e),this._title=document.querySelector(t),this._userAvatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,title:this._title.textContent}}setUserInfo(e){this._name.textContent=e.title,this._title.textContent=e.about,e.avatar&&(this._userAvatar.src=e.avatar)}}(".profile__title",".profile__description",".profile__image");n.addEventListener("click",(()=>{m.value=a.textContent,p.value=l.textContent.trim(),C.open()})),o.addEventListener("click",(()=>{w.toggleButtonState(),y.open()})),c.addEventListener("click",(()=>{q.open()})),Promise.all([v.getUserInfo(),v.getInitialCards()]).then((e=>{let[t,s]=e;T.setUserInfo({about:t.about,title:t.name,avatar:t.avatar}),b.renderItems(s)})).catch((e=>{console.log(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQVloTCxHQUNWTSxLQUFLQyxNQUFNNEIsWUFBY25DLEVBQUt1SSxNQUM5QmpJLEtBQUttTCxPQUFPdEosWUFBY25DLEVBQUt3SSxNQUMzQnhJLEVBQUs4SSxTQUFReEksS0FBS29MLFlBQVl6QixJQUFNakssRUFBSzhJLE9BRS9DLEdMOEtBLGtCQUNBLHdCQUNBLG1CQUlGM0MsRUFBa0I5RSxpQkFBaUIsU0FBUyxLQUMxQ3VGLEVBQWlCL0MsTUFBUXdDLEVBQVlsRSxZQUNyQzBFLEVBQXdCaEQsTUFBUXlDLEVBQW1CbkUsWUFBWXdKLE9BQy9EYixFQUFZckksTUFBTSxJQUdwQjJELEVBQWlCL0UsaUJBQWlCLFNBQVMsS0FDekNnSyxFQUFxQnpGLG9CQUNyQmdGLEVBQWVuSSxNQUFNLElBR3ZCOEQsRUFBaUJsRixpQkFBaUIsU0FBUyxLQUN6QzRKLEVBQWV4SSxNQUFNLElBSXZCa0YsUUFBUWlFLElBQUksQ0FBQzdFLEVBQUlrQixjQUFlbEIsRUFBSWUsb0JBQ2pDRSxNQUFLOUgsSUFBbUIsSUFBakJGLEVBQU02TCxHQUFNM0wsRUFDbEI2SyxFQUFTQyxZQUFZLENBQ25CeEMsTUFBT3hJLEVBQUt3SSxNQUNaRCxNQUFPdkksRUFBS1EsS0FDWnNJLE9BQVE5SSxFQUFLOEksU0FFZkUsRUFBWUssWUFBWXdDLEVBQU0sSUFFL0JwQixPQUFPQyxJQUNObkIsUUFBUUMsSUFBSWtCLEVBQUksRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgeyBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgaGFuZGxlQ2FyZExpa2UgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XHJcbiAgICB0aGlzLmlkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgLy9cIi5jYXJkX19saWtlLWJ1dHRvblwiXHJcbiAgICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzKSk7ICAgIFxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fYnV0dG9uLWRlbGV0ZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIC8vIF9oYW5kbGVMaWtlSWNvbigpIHtcclxuICAvLyAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgLy8gICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgLy8gICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIC8vIH1cclxuXHJcbiAgc2V0TGlrZVN0YXR1cyhpc0xpa2VkKSB7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMaWtlcygpe1xyXG4gICAgaWYodGhpcy5pc0xpa2VkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIikuY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGdldENhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAvL2dldCB0aGUgY2FyZCB2aWV3XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9saW5rfSlgO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAvL3NldCBldmVudCBsaXN0ZW5lcnNcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlSW1hZ2VDbGljayk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICAgIC8vIHJldHVybiB0aGUgY2FyZFxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pZDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cENsb3NlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIC8vb3BlbnMgcG9wdXBcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VNb2RhbEVzY2FwZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIC8vY2xvc2VzIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlTW9kYWxFc2NhcGUpO1xyXG4gIH1cclxuXHJcbiAgX2Nsb3NlTW9kYWxFc2NhcGUgPSAoZXZ0KSA9PiB7XHJcbiAgICAvL2xpc3RlbnMgZm9yIGVzYyBidXR0b25cclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vc2V0cyBldmVudCBsaXN0ZW5lcnNcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9wb3B1cFN1Ym1pdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdFRleHQoc3VibWl0LCBzdWJtaXRUZXh0ID0gXCJTYXZpbmcuLi5cIil7XHJcbiAgICBpZiAoc3VibWl0KSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTdWJtaXQudGV4dENvbnRlbnQgPSBzdWJtaXRUZXh0O1xyXG4gICAgfSBcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0LnRleHRDb250ZW50ID0gXCJTYXZlXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuXHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbGVtZW50KSA9PiBpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzID0gW1xyXG4gICAgICAuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpLFxyXG4gICAgXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUodGhpcy5faW5wdXRFbHMpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG4vL1Byb2ZpbGUgUXVlcmllc1xyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBhZGROZXdDYXJkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19kZXNjcmlwdGlvblwiKTtcclxuY29uc3QgcHJvZmlsZVBpY0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlUGljTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2ltYWdlLWVkaXRcIik7XHJcbmNvbnN0IHByb2ZpbGVQaWNVcmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWlucHV0LXVybFwiKTtcclxuY29uc3QgcHJvZmlsZUltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxuXHJcbi8vTW9kYWwgUXVlcmllc1xyXG5jb25zdCBwcm9maWxlTW9kYWxGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG5jb25zdCBwcm9maWxlTW9kYWxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC1uYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlTW9kYWxEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjbW9kYWwtaW5wdXQtZGVzY3JpcHRpb25cIlxyXG4pO1xyXG5jb25zdCBuZXdDYXJkTW9kYWxUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtdGl0bGVcIik7XHJcbmNvbnN0IG5ld0NhcmRNb2RhbFVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtVXJsXCIpO1xyXG5cclxuLy9DYXJkIFF1ZXJpZXNcclxuY29uc3QgYWRkTmV3Q2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtbmV3LWNhcmRcIik7XHJcblxyXG4vL0FQSSBFVkVOVFNcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNWYyYjU4OGEtMjUwZS00OTIyLWI3NGEtMzA2ZWNiODJiZmU2XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vVkFMSURBVElPTlxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG4vL1NFQ1RJT04gUkVOREVSRVJcclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICByZW5kZXJlcjogZ2VuZXJhdGVDYXJkLFxyXG4gIH0sXHJcbiAgXCIuY2FyZHNfX2xpc3RcIlxyXG4pO1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IHJlbmRlckNhcmQoaXRlbSk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudC5nZXRDYXJkKCkpO1xyXG59XHJcblxyXG4vL1JFTkRFUiBDQVJEXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChkYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIHtcclxuICAgIGhhbmRsZUltYWdlQ2xpY2s6ICgpID0+IGltYWdlUG9wdXAub3BlbihkYXRhKSxcclxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxyXG4gICAgaGFuZGxlQ2FyZExpa2VcclxuICB9KTtcclxuICByZXR1cm4gY2FyZDtcclxufVxyXG5cclxuLy9JTUFHRSBQT1BVUFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vREVMRVRFIENBUkQgUE9QVVBcclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNjYXJkX19kZWxldGUtbW9kYWxcIik7XHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcclxuICBkZWxldGVDYXJkUG9wdXAub3BlbigpO1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xyXG4gICAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdFRleHQodHJ1ZSwgXCJEZWxldGluZy4uLlwiKTtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmlkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdFRleHQodHJ1ZSwgXCJEZWxldGVkLi4uXCIpO1xyXG4gICAgICAgIGRlbGV0ZUNhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4gZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdFRleHQoZmFsc2UpKTtcclxuICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vL0ZPUk0gUE9QVVBcclxuY29uc3Qgb3BlbkltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtbmV3LWNhcmRcIixcclxuICBoYW5kbGVJbWFnZUZvcm1TdWJtaXRcclxuKTtcclxuY29uc3QgZWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwcm9maWxlLWVkaXQtbW9kYWxcIiwgaGFuZGxlRm9ybVN1Ym1pdCk7XHJcbmNvbnN0IHByb2ZpbGVQaWNFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZV9faW1hZ2UtZWRpdFwiLFxyXG4gIHByb2ZpbGVQaWNFZGl0U3VibWl0XHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlUGljRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5vcGVuSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgaGFuZGxlRWRpdEZvcm1TdWJtaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVNb2RhbEZvcm0pO1xyXG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgcHJvZmlsZVBpY01vZGFsKTtcclxuY29uc3QgaGFuZGxlQ2FyZEZvcm1TdWJtaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGFkZE5ld0NhcmRNb2RhbCk7XHJcblxyXG5oYW5kbGVFZGl0Rm9ybVN1Ym1pdC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmhhbmRsZVByb2ZpbGVGb3JtU3VibWl0LmVuYWJsZVZhbGlkYXRpb24oKTtcclxuaGFuZGxlQ2FyZEZvcm1TdWJtaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9GT1JNIFNVQk1JVFxyXG5mdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0KGRhdGEpIHtcclxuICBlZGl0UHJvZmlsZS5zZXRTdWJtaXRUZXh0KHRydWUsIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnByb2ZpbGVVcGRhdGUoZGF0YSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIGVkaXRQcm9maWxlLnNldFN1Ym1pdFRleHQoZmFsc2UpO1xyXG4gICAgICBlZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbi8vIC8vSU1BR0UgU1VCTUlUXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlRm9ybVN1Ym1pdChkYXRhKSB7XHJcbiAgY29uc3QgbmFtZSA9IGRhdGEubmFtZTtcclxuICBjb25zdCBsaW5rID0gZGF0YS51cmw7XHJcbiAgb3BlbkltYWdlUG9wdXAuc2V0U3VibWl0VGV4dCh0cnVlLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKG5hbWUsIGxpbmspXHJcbiAgICAudGhlbigoY2FyZCkgPT4ge1xyXG4gICAgICBnZW5lcmF0ZUNhcmQoY2FyZCk7XHJcbiAgICAgIG9wZW5JbWFnZVBvcHVwLnNldFN1Ym1pdFRleHQoZmFsc2UpXHJcbiAgICAgIG9wZW5JbWFnZVBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG4gIFxyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9maWxlUGljRWRpdFN1Ym1pdCgpIHtcclxuICBjb25zdCB1cmwgPSBwcm9maWxlUGljVXJsLnZhbHVlO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVByb2ZpbGVBdmF0YXIodXJsKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBwcm9maWxlSW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICBwcm9maWxlUGljRWRpdC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy9JTUFHRSBMSUtFXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRMaWtlKGNhcmQpIHtcclxuICBjb25zdCBuZXdMaWtlU3RhdHVzID0gIWNhcmQuaXNMaWtlZDtcclxuICBpZihuZXdMaWtlU3RhdHVzKSB7XHJcbiAgICBhcGkuY2FyZExpa2UoY2FyZC5nZXRJZCgpKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjYXJkLnNldExpa2VTdGF0dXMocmVzLmlzTGlrZWQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpLnJlbW92ZUxpa2UoY2FyZC5nZXRJZCgpKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjYXJkLnNldExpa2VTdGF0dXMocmVzLmlzTGlrZWQpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vUFJPRklMRSBFRElUIFBPUFVQXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBcIi5wcm9maWxlX19pbWFnZVwiXHJcbik7XHJcblxyXG4vL0VWRU5UIExJU1RFTkVSU1xyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHByb2ZpbGVNb2RhbE5hbWUudmFsdWUgPSBwcm9maWxlTmFtZS50ZXh0Q29udGVudDtcclxuICBwcm9maWxlTW9kYWxEZXNjcmlwdGlvbi52YWx1ZSA9IHByb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgZWRpdFByb2ZpbGUub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZE5ld0NhcmRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBoYW5kbGVDYXJkRm9ybVN1Ym1pdC50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIG9wZW5JbWFnZVBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlUGljQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcHJvZmlsZVBpY0VkaXQub3BlbigpO1xyXG59KTtcclxuXHJcbi8vQVBJIENBTExTXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW2RhdGEsIGNhcmRzXSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgdGl0bGU6IGRhdGEubmFtZSxcclxuICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgIH0pO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG4gICAgdGhpcy5fY29udGVudFR5cGUgPSBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdO1xyXG4gIH1cclxuXHJcbiAgLy9DaGVjayBpZiBKU09OIG9iamVjdCBva1xyXG4gIF9jaGVja1Jlc3BvbnNlT2socmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgUHJvbWlzZS5yZWplY3QoYEVyb3JyOiAke3Jlcy5zdGF0dXN9YClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vR2V0IGluaXRpYWwgY2FyZHMgZnJvbSBVUkxcclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL0dldCB1c2VyIGluZm9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZU9rKVxyXG5cclxuICB9XHJcblxyXG4gIC8vUHJvZmlsZSBVcGRhdGVcclxuICBwcm9maWxlVXBkYXRlKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLnRpdGxlLFxyXG4gICAgICAgIGFib3V0OiBkYXRhLmFib3V0LFxyXG4gICAgICB9KSxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZU9rKVxyXG5cclxuICB9XHJcblxyXG4gIC8vQWRkaW5nIENhcmRzXHJcbiAgYWRkQ2FyZCh0aXRsZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogdGl0bGUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgfSksXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL0RlbGV0ZWluZyBDYXJkc1xyXG4gIGRlbGV0ZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlT2spXHJcblxyXG4gIH1cclxuXHJcbiAgLy9MaWtlIEJ1dHRvblxyXG4gIGNhcmRMaWtlKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZU9rKVxyXG5cclxuICB9XHJcblxyXG4gIC8vUmVtb3ZlIExpa2UgZnJvbSBjYXJkXHJcbiAgcmVtb3ZlTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL1Byb2ZpbGUgcGljdHVyZSB1cGRhdGVcclxuICB1cGRhdGVQcm9maWxlQXZhdGFyKGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZU9rKVxyXG5cclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiQ0FSRFNcIiwgaXRlbXMpO1xyXG4gICAgLy8gdXNlIHRoaXMuX3JlbmRlcmVyIHRvIGNyZWF0ZSB0aGUgZWxlbWVudHMgZm9yIHJlbmRlcmluZ1xyXG4gICAgaXRlbXMuZm9yRWFjaCh0aGlzLl9yZW5kZXJlcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIC8vIHRha2UgdGhlIGl0ZW0gYW5kIHJlbmRlciBpdCBpbnRvIHRoaXMuX2VsZW1lbnRcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGl0ZW0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtcHJldmlld1wiKTtcclxuICAgIHRoaXMuX2NhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3LXRpdGxlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihkYXRhKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHtkYXRhLm5hbWV9YDtcclxuICAgIHRoaXMuX2NhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBDb25maXJtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9wb3B1cFN1Ym1pdCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5tb2RhbF9fYnV0dG9uLWRlbGV0ZVwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdFRleHQoc3VibWl0LCBzdWJtaXRUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xyXG4gICAgaWYgKHN1Ym1pdCkge1xyXG4gICAgICB0aGlzLl9wb3B1cFN1Ym1pdC50ZXh0Q29udGVudCA9IHN1Ym1pdFRleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9wb3B1cFN1Ym1pdC50ZXh0Q29udGVudCA9IFwiWWVzXCI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwQ29uZmlybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VyaW5mbyB7XHJcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIHVzZXJBdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJBdmF0YXIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zdCBpbmZvID0ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICB0aXRsZTogdGhpcy5fdGl0bGUudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGluZm87XHJcbiAgICAvL3JldHVybnMgYW4gb2JqZWN0IHdpdGggaW5mbyBhYm91dCB0aGUgdXNlci5cclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBkYXRhLnRpdGxlO1xyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gICAgaWYgKGRhdGEuYXZhdGFyKSB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gICAgLy90YWtzZXMgYSBuZXcgdXNlciBkYXRhIGFuZCBhZGRzIGl0IG9uIHRoZSBwYWdlLlxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsIl9yZWYiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJoYW5kbGVDYXJkTGlrZSIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJpc0xpa2VkIiwiaWQiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlQ2FyZExpa2UiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfY2FyZEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldExpa2VTdGF0dXMiLCJfcmVuZGVyTGlrZXMiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJyZW1vdmVDYXJkIiwiZ2V0Q2FyZCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkSW1hZ2UiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInRleHRDb250ZW50IiwiZ2V0SWQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX3BvcHVwQ2xvc2UiLCJvcGVuIiwiX2Nsb3NlTW9kYWxFc2NhcGUiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9wb3B1cFN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldFN1Ym1pdFRleHQiLCJzdWJtaXQiLCJzdWJtaXRUZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicmVzZXQiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZUVsIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJldmVyeSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0RWxzIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVFZGl0QnV0dG9uIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsInByb2ZpbGVOYW1lIiwicHJvZmlsZURlc2NyaXB0aW9uIiwicHJvZmlsZVBpY0J1dHRvbiIsInByb2ZpbGVQaWNNb2RhbCIsInByb2ZpbGVQaWNVcmwiLCJwcm9maWxlSW1hZ2UiLCJwcm9maWxlTW9kYWxGb3JtIiwicHJvZmlsZU1vZGFsTmFtZSIsInByb2ZpbGVNb2RhbERlc2NyaXB0aW9uIiwiYWRkTmV3Q2FyZE1vZGFsIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJhdXRob3JpemF0aW9uIiwiX2NvbnRlbnRUeXBlIiwiX2NoZWNrUmVzcG9uc2VPayIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJnZXRVc2VySW5mbyIsInByb2ZpbGVVcGRhdGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRpdGxlIiwiYWJvdXQiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRMaWtlIiwicmVtb3ZlTGlrZSIsInVwZGF0ZVByb2ZpbGVBdmF0YXIiLCJhdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJjYXJkU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJhZGRJdGVtIiwiaXRlbSIsInByZXBlbmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImltYWdlUG9wdXAiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsInNyYyIsImFsdCIsImRlbGV0ZUNhcmRQb3B1cCIsIl9wb3B1cENvbmZpcm0iLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJlIiwiY2FyZCIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsIm9wZW5JbWFnZVBvcHVwIiwidXJsIiwiZWRpdFByb2ZpbGUiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwicHJvZmlsZVBpY0VkaXQiLCJoYW5kbGVFZGl0Rm9ybVN1Ym1pdCIsIkZvcm1WYWxpZGF0b3IiLCJoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCIsImhhbmRsZUNhcmRGb3JtU3VibWl0IiwidXNlck5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwidXNlckF2YXRhciIsIl90aXRsZSIsIl91c2VyQXZhdGFyIiwidHJpbSIsImFsbCIsImNhcmRzIl0sInNvdXJjZVJvb3QiOiIifQ==