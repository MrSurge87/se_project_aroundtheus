!function(){"use strict";class e{constructor(e,t,s){let{handleImageClick:r,handleDeleteClick:i}=s;this._name=e.name,this._link=e.link,this.id=e._id,this._cardSelector=t,this._handleImageClick=r,this._handleDeleteClick=i}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>this._handleLikeIcon())),this._cardElement.querySelector(".card__button-delete").addEventListener("click",(()=>this._handleDeleteClick(this)))}_handleLikeIcon(){this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}removeCard(){this._cardElement.remove()}getCard(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardImage.style.backgroundImage=`url(${this._link})`,this._cardElement.querySelector(".card__title").textContent=this._name,this._cardImage.addEventListener("click",this._handleImageClick),this._setEventListeners(),this._cardElement}}class t{constructor(e){this._popupElement=document.querySelector(e),this._popupClose=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._closeModalEscape)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._closeModalEscape)}_closeModalEscape=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}}class s extends t{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._popupSubmit=this._popupElement.querySelector(".modal__button")}_getInputValues(){const e=this._popupForm.querySelectorAll(".modal__input"),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setSubmitText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._popupSubmit.textContent=e?t:"Save"}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())}))}close(){this._popupForm.reset(),super.close()}}var r=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState(this._inputEls)}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};const i=document.querySelector("#profile-edit-modal"),n=document.querySelector("#profile-edit-button"),o=document.querySelector(".profile__add-button"),a=document.querySelector("#profile__name"),l=document.querySelector("#profile__description"),c=document.querySelector(".profile__image-button"),d=document.querySelector("#profile__image-edit"),u=document.querySelector("#modal-input-url"),h=document.querySelector(".profile__image"),_=i.querySelector(".modal__form"),m=document.querySelector("#modal-input-name"),p=document.querySelector("#modal-input-description"),v=document.querySelector("#modal-input-title"),S=document.querySelector("#modal-Url"),E=document.querySelector("#add-new-card"),b=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s,this._authorization=s.authorization,this._contentType=s["Content-Type"]}_checkResponseOk(e){if(e.ok)return e.json();Promise.reject(`Erorr: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponseOk)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponseOk)}profileUpdate(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",body:JSON.stringify({name:e.title,about:e.about}),headers:this._headers}).then(this._checkResponseOk)}addCard(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",body:JSON.stringify({name:e,link:t}),headers:this._headers}).then(this._checkResponseOk)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponseOk)}cardLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._checkResponseOk)}removeLike(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._checkResponseOk)}updateProfileAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponseOk)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"5f2b588a-250e-4922-b74a-306ecb82bfe6","Content-Type":"application/json"}}),f={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},y=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){console.log("CARDS",e),e.forEach(this._renderer)}addItem(e){this._container.prepend(e)}}({renderer:g},".cards__list");function g(t){const s=new e(r=t,"#card-template",{handleImageClick:()=>k.open(r),handleDeleteClick:L});var r;y.addItem(s.getCard())}const k=new class extends t{constructor(e){super(e),this._image=this._popupElement.querySelector(".modal__image-preview"),this._caption=document.querySelector(".modal__image-preview-title")}open(e){super.open(),this._image.src=e.link,this._image.alt=`Photo of ${e.name}`,this._caption.textContent=e.name}}("#preview-image-modal");k.setEventListeners();const C=new class extends t{constructor(e){super(e),this._popupConfirm=this._popupElement.querySelector(".modal__form"),this._popupSubmit=this._popupElement.querySelector(".modal__button-delete")}setSubmitAction(e){this._handleFormSubmit=e}setSubmitText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._popupSubmit.textContent=e?t:"Yes"}setEventListeners(){this._popupConfirm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}}("#card__delete-modal");function L(e){C.open(),C.setSubmitAction((()=>{C.setSubmitText(!0,"Deleting..."),b.deleteCard(e.id).then((()=>{C.setSubmitText(!0,"Deleted..."),C.close(),e.removeCard()})).catch((e=>console.log(e))).finally((()=>C.setSubmitText(!1)))}))}C.setEventListeners();const q=new s("#add-new-card",(function(){const e=v.value,t=S.value;q.setSubmitText(!0,"Saving..."),b.addCard(e,t).then((e=>{g(e),q.setSubmitText(!1),q.close()})).catch((e=>{console.log(e)}))})),I=new s("#profile-edit-modal",(function(e){I.setSubmitText(!0,"Saving..."),b.profileUpdate(e).then((()=>{B.setUserInfo(e),I.setSubmitText(!1),I.close()})).catch((e=>{console.log(e)}))})),x=new s("#profile__image-edit",(function(){const e=u.value;b.updateProfileAvatar(e).then((()=>{h.src=e,x.close()})).catch((e=>{console.log(e)}))}));I.setEventListeners(),x.setEventListeners(),q.setEventListeners();const w=new r(f,_),U=new r(f,d),T=new r(f,E);w.enableValidation(),U.enableValidation(),T.enableValidation();const B=new class{constructor(e,t,s){this._name=document.querySelector(e),this._title=document.querySelector(t),this._userAvatar=document.querySelector(s)}getUserInfo(){return{name:this._name.textContent,title:this._title.textContent}}setUserInfo(e){this._name.textContent=e.title,this._title.textContent=e.about,e.avatar&&(this._userAvatar.src=e.avatar)}}(".profile__title",".profile__description",".profile__image");n.addEventListener("click",(()=>{m.value=a.textContent,p.value=l.textContent.trim(),I.open()})),o.addEventListener("click",(()=>{T.toggleButtonState(),q.open()})),c.addEventListener("click",(()=>{x.open()})),Promise.all([b.getUserInfo(),b.getInitialCards()]).then((e=>{let[t,s]=e;B.setUserInfo({about:t.about,title:t.name,avatar:t.avatar}),y.renderItems(s)})).catch((e=>{console.log(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZLENBQ25CdkMsTUFBT3RJLEVBQUtzSSxNQUNaRCxNQUFPckksRUFBS08sS0FDWnFJLE9BQVE1SSxFQUFLNEksU0FFZkUsRUFBWUssWUFBWXdDLEVBQU0sSUFFL0JwQixPQUFPQyxJQUNObkIsUUFBUUMsSUFBSWtCLEVBQUksRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIGNhcmRTZWxlY3RvciwgeyBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljayB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuaWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vXCIuY2FyZF9fbGlrZS1idXR0b25cIlxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlSWNvbigpKTtcclxuXHJcbiAgICBcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2J1dHRvbi1kZWxldGVcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUljb24oKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGdldENhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAvL2dldCB0aGUgY2FyZCB2aWV3XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHt0aGlzLl9saW5rfSlgO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAvL3NldCBldmVudCBsaXN0ZW5lcnNcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlSW1hZ2VDbGljayk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgLy8gcmV0dXJuIHRoZSBjYXJkXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBDbG9zZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICAvL29wZW5zIHBvcHVwXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlTW9kYWxFc2NhcGUpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICAvL2Nsb3NlcyBwb3B1cFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZU1vZGFsRXNjYXBlKTtcclxuICB9XHJcblxyXG4gIF9jbG9zZU1vZGFsRXNjYXBlID0gKGV2dCkgPT4ge1xyXG4gICAgLy9saXN0ZW5zIGZvciBlc2MgYnV0dG9uXHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvL3NldHMgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fcG9wdXBTdWJtaXQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xyXG4gICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGRhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRUZXh0KHN1Ym1pdCwgc3VibWl0VGV4dCA9IFwiU2F2aW5nLi4uXCIpe1xyXG4gICAgaWYgKHN1Ym1pdCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU3VibWl0LnRleHRDb250ZW50ID0gc3VibWl0VGV4dDtcclxuICAgIH0gXHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aGlzLl9wb3B1cFN1Ym1pdC50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfVxyXG59XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcblxyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuICFpbnB1dExpc3QuZXZlcnkoKGlucHV0RWxlbWVudCkgPT4gaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVscyA9IFtcclxuICAgICAgLi4udGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKSxcclxuICAgIF07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKHRoaXMuX2lucHV0RWxzKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5cclxuLy9Qcm9maWxlIFF1ZXJpZXNcclxuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgYWRkTmV3Q2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVQaWNCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlLWJ1dHRvblwiKTtcclxuY29uc3QgcHJvZmlsZVBpY01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19pbWFnZS1lZGl0XCIpO1xyXG5jb25zdCBwcm9maWxlUGljVXJsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbC1pbnB1dC11cmxcIik7XHJcbmNvbnN0IHByb2ZpbGVJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcblxyXG4vL01vZGFsIFF1ZXJpZXNcclxuY29uc3QgcHJvZmlsZU1vZGFsRm9ybSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuY29uc3QgcHJvZmlsZU1vZGFsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbW9kYWwtaW5wdXQtbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZU1vZGFsRGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiI21vZGFsLWlucHV0LWRlc2NyaXB0aW9uXCJcclxuKTtcclxuY29uc3QgbmV3Q2FyZE1vZGFsVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLWlucHV0LXRpdGxlXCIpO1xyXG5jb25zdCBuZXdDYXJkTW9kYWxVcmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21vZGFsLVVybFwiKTtcclxuXHJcbi8vQ2FyZCBRdWVyaWVzXHJcbmNvbnN0IGFkZE5ld0NhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW5ldy1jYXJkXCIpO1xyXG5cclxuLy9BUEkgRVZFTlRTXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjVmMmI1ODhhLTI1MGUtNDkyMi1iNzRhLTMwNmVjYjgyYmZlNlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcblxyXG4vL1ZBTElEQVRJT05cclxuY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuLy9TRUNUSU9OIFJFTkRFUkVSXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAge1xyXG4gICAgcmVuZGVyZXI6IGdlbmVyYXRlQ2FyZCxcclxuICB9LFxyXG4gIFwiLmNhcmRzX19saXN0XCJcclxuKTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSByZW5kZXJDYXJkKGl0ZW0pO1xyXG4gIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQuZ2V0Q2FyZCgpKTtcclxufVxyXG5cclxuLy9SRU5ERVIgQ0FSRFxyXG5mdW5jdGlvbiByZW5kZXJDYXJkKGRhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoZGF0YSwgXCIjY2FyZC10ZW1wbGF0ZVwiLCB7XHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrOiAoKSA9PiBpbWFnZVBvcHVwLm9wZW4oZGF0YSksXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICB9KTtcclxuICByZXR1cm4gY2FyZDtcclxufVxyXG5cclxuLy9JTUFHRSBQT1BVUFxyXG5jb25zdCBpbWFnZVBvcHVwID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3ByZXZpZXctaW1hZ2UtbW9kYWxcIik7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vREVMRVRFIENBUkQgUE9QVVBcclxuY29uc3QgZGVsZXRlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNjYXJkX19kZWxldGUtbW9kYWxcIik7XHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XHJcbiAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBkZWxldGVDYXJkUG9wdXAuc2V0U3VibWl0VGV4dCh0cnVlLCBcIkRlbGV0aW5nLi4uXCIpO1xyXG4gICAgYXBpXHJcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBkZWxldGVDYXJkUG9wdXAuc2V0U3VibWl0VGV4dCh0cnVlLCBcIkRlbGV0ZWQuLi5cIik7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAuZmluYWxseSgoKSA9PiBkZWxldGVDYXJkUG9wdXAuc2V0U3VibWl0VGV4dChmYWxzZSkpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL0ZPUk0gUE9QVVBcclxuY29uc3Qgb3BlbkltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNhZGQtbmV3LWNhcmRcIixcclxuICBoYW5kbGVJbWFnZUZvcm1TdWJtaXRcclxuKTtcclxuY29uc3QgZWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwcm9maWxlLWVkaXQtbW9kYWxcIiwgaGFuZGxlRm9ybVN1Ym1pdCk7XHJcbmNvbnN0IHByb2ZpbGVQaWNFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjcHJvZmlsZV9faW1hZ2UtZWRpdFwiLFxyXG4gIHByb2ZpbGVQaWNFZGl0U3VibWl0XHJcbik7XHJcblxyXG5lZGl0UHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5wcm9maWxlUGljRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5vcGVuSW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHByb2ZpbGVNb2RhbEZvcm0pO1xyXG5jb25zdCBwcm9maWxlUGljVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlUGljTW9kYWwpO1xyXG5jb25zdCBjYXJkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgYWRkTmV3Q2FyZE1vZGFsKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxucHJvZmlsZVBpY1ZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vRk9STSBTVUJNSVRcclxuZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChkYXRhKSB7XHJcbiAgZWRpdFByb2ZpbGUuc2V0U3VibWl0VGV4dCh0cnVlLCBcIlNhdmluZy4uLlwiKTtcclxuICBhcGlcclxuICAgIC5wcm9maWxlVXBkYXRlKGRhdGEpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICBlZGl0UHJvZmlsZS5zZXRTdWJtaXRUZXh0KGZhbHNlKTtcclxuICAgICAgZWRpdFByb2ZpbGUuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIC8vSU1BR0UgU1VCTUlUXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlRm9ybVN1Ym1pdCgpIHtcclxuICBjb25zdCBuYW1lID0gbmV3Q2FyZE1vZGFsVGl0bGUudmFsdWU7XHJcbiAgY29uc3QgbGluayA9IG5ld0NhcmRNb2RhbFVybC52YWx1ZTtcclxuICBvcGVuSW1hZ2VQb3B1cC5zZXRTdWJtaXRUZXh0KHRydWUsIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmFkZENhcmQobmFtZSwgbGluaylcclxuICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgIGdlbmVyYXRlQ2FyZChjYXJkKTtcclxuICAgICAgb3BlbkltYWdlUG9wdXAuc2V0U3VibWl0VGV4dChmYWxzZSk7XHJcbiAgICAgIG9wZW5JbWFnZVBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9maWxlUGljRWRpdFN1Ym1pdCgpIHtcclxuICBjb25zdCB1cmwgPSBwcm9maWxlUGljVXJsLnZhbHVlO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZVByb2ZpbGVBdmF0YXIodXJsKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBwcm9maWxlSW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICBwcm9maWxlUGljRWRpdC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy9JTUFHRSBMSUtFXHJcblxyXG4vL1BST0ZJTEUgRURJVCBQT1BVUFxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyhcclxuICBcIi5wcm9maWxlX190aXRsZVwiLFxyXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgXCIucHJvZmlsZV9faW1hZ2VcIlxyXG4pO1xyXG5cclxuLy9FVkVOVCBMSVNURU5FUlNcclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBwcm9maWxlTW9kYWxOYW1lLnZhbHVlID0gcHJvZmlsZU5hbWUudGV4dENvbnRlbnQ7XHJcbiAgcHJvZmlsZU1vZGFsRGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQudHJpbSgpO1xyXG4gIGVkaXRQcm9maWxlLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY2FyZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICBvcGVuSW1hZ2VQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZVBpY0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHByb2ZpbGVQaWNFZGl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG4vL0FQSSBDQUxMU1xyXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJJbmZvKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXHJcbiAgLnRoZW4oKFtkYXRhLCBjYXJkc10pID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgYWJvdXQ6IGRhdGEuYWJvdXQsXHJcbiAgICAgIHRpdGxlOiBkYXRhLm5hbWUsXHJcbiAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsXHJcbiAgICB9KTtcclxuICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gIH0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKHsgYmFzZVVybCwgaGVhZGVycyB9KSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xyXG4gICAgdGhpcy5fYXV0aG9yaXphdGlvbiA9IGhlYWRlcnMuYXV0aG9yaXphdGlvbjtcclxuICAgIHRoaXMuX2NvbnRlbnRUeXBlID0gaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXTtcclxuICB9XHJcblxyXG4gIC8vQ2hlY2sgaWYgSlNPTiBvYmplY3Qgb2tcclxuICBfY2hlY2tSZXNwb25zZU9rKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFByb21pc2UucmVqZWN0KGBFcm9ycjogJHtyZXMuc3RhdHVzfWApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0dldCBpbml0aWFsIGNhcmRzIGZyb20gVVJMXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlT2spXHJcblxyXG4gIH1cclxuXHJcbiAgLy9HZXQgdXNlciBpbmZvXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL1Byb2ZpbGUgVXBkYXRlXHJcbiAgcHJvZmlsZVVwZGF0ZShkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcclxuICAgICAgICBhYm91dDogZGF0YS5hYm91dCxcclxuICAgICAgfSksXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL0FkZGluZyBDYXJkc1xyXG4gIGFkZENhcmQodGl0bGUsIGxpbmspIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IHRpdGxlLFxyXG4gICAgICAgIGxpbms6IGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlT2spXHJcblxyXG4gIH1cclxuXHJcbiAgLy9EZWxldGVpbmcgQ2FyZHNcclxuICBkZWxldGVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZU9rKVxyXG5cclxuICB9XHJcblxyXG4gIC8vTGlrZSBCdXR0b25cclxuICBjYXJkTGlrZShpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG5cclxuICAvL1JlbW92ZSBMaWtlIGZyb20gY2FyZFxyXG4gIHJlbW92ZUxpa2UoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlT2spXHJcblxyXG4gIH1cclxuXHJcbiAgLy9Qcm9maWxlIHBpY3R1cmUgdXBkYXRlXHJcbiAgdXBkYXRlUHJvZmlsZUF2YXRhcihsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogbGluayxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2VPaylcclxuXHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkNBUkRTXCIsIGl0ZW1zKTtcclxuICAgIC8vIHVzZSB0aGlzLl9yZW5kZXJlciB0byBjcmVhdGUgdGhlIGVsZW1lbnRzIGZvciByZW5kZXJpbmdcclxuICAgIGl0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShpdGVtKSB7XHJcbiAgICAvLyB0YWtlIHRoZSBpdGVtIGFuZCByZW5kZXIgaXQgaW50byB0aGlzLl9lbGVtZW50XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLXByZXZpZXdcIik7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtcHJldmlldy10aXRsZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4oZGF0YSkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgdGhpcy5faW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYFBob3RvIG9mICR7ZGF0YS5uYW1lfWA7XHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwQ29uZmlybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gICAgdGhpcy5fcG9wdXBTdWJtaXQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIubW9kYWxfX2J1dHRvbi1kZWxldGVcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBhY3Rpb247XHJcbiAgfVxyXG5cclxuICBzZXRTdWJtaXRUZXh0KHN1Ym1pdCwgc3VibWl0VGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcclxuICAgIGlmIChzdWJtaXQpIHtcclxuICAgICAgdGhpcy5fcG9wdXBTdWJtaXQudGV4dENvbnRlbnQgPSBzdWJtaXRUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fcG9wdXBTdWJtaXQudGV4dENvbnRlbnQgPSBcIlllc1wiO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cENvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlcmluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCB1c2VyQXZhdGFyKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgaW5mbyA9IHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgdGl0bGU6IHRoaXMuX3RpdGxlLnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICAgIHJldHVybiBpbmZvO1xyXG4gICAgLy9yZXR1cm5zIGFuIG9iamVjdCB3aXRoIGluZm8gYWJvdXQgdGhlIHVzZXIuXHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS50aXRsZTtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICAgIGlmIChkYXRhLmF2YXRhcikgdGhpcy5fdXNlckF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcclxuICAgIC8vdGFrc2VzIGEgbmV3IHVzZXIgZGF0YSBhbmQgYWRkcyBpdCBvbiB0aGUgcGFnZS5cclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJfcmVmIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwidGhpcyIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsImlkIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX2hhbmRsZURlbGV0ZUNsaWNrIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUljb24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJyZW1vdmVDYXJkIiwicmVtb3ZlIiwiZ2V0Q2FyZCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkSW1hZ2UiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInRleHRDb250ZW50IiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9wb3B1cENsb3NlIiwib3BlbiIsImFkZCIsIl9jbG9zZU1vZGFsRXNjYXBlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBTdWJtaXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJzZXRTdWJtaXRUZXh0Iiwic3VibWl0Iiwic3VibWl0VGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInJlc2V0IiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2VFbCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsIl9pbnB1dEVscyIsIl9zdWJtaXRCdXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZE5ld0NhcmRCdXR0b24iLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVQaWNCdXR0b24iLCJwcm9maWxlUGljTW9kYWwiLCJwcm9maWxlUGljVXJsIiwicHJvZmlsZUltYWdlIiwicHJvZmlsZU1vZGFsRm9ybSIsInByb2ZpbGVNb2RhbE5hbWUiLCJwcm9maWxlTW9kYWxEZXNjcmlwdGlvbiIsIm5ld0NhcmRNb2RhbFRpdGxlIiwibmV3Q2FyZE1vZGFsVXJsIiwiYWRkTmV3Q2FyZE1vZGFsIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2F1dGhvcml6YXRpb24iLCJhdXRob3JpemF0aW9uIiwiX2NvbnRlbnRUeXBlIiwiX2NoZWNrUmVzcG9uc2VPayIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJnZXRVc2VySW5mbyIsInByb2ZpbGVVcGRhdGUiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRpdGxlIiwiYWJvdXQiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRMaWtlIiwicmVtb3ZlTGlrZSIsInVwZGF0ZVByb2ZpbGVBdmF0YXIiLCJhdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJjYXJkU2VjdGlvbiIsInNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJhZGRJdGVtIiwiaXRlbSIsInByZXBlbmQiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkRWxlbWVudCIsImltYWdlUG9wdXAiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsInNyYyIsImFsdCIsImRlbGV0ZUNhcmRQb3B1cCIsIl9wb3B1cENvbmZpcm0iLCJzZXRTdWJtaXRBY3Rpb24iLCJhY3Rpb24iLCJlIiwiY2FyZCIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsIm9wZW5JbWFnZVBvcHVwIiwiZWRpdFByb2ZpbGUiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwicHJvZmlsZVBpY0VkaXQiLCJ1cmwiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJwcm9maWxlUGljVmFsaWRhdG9yIiwiY2FyZEZvcm1WYWxpZGF0b3IiLCJ1c2VyTmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJ1c2VyQXZhdGFyIiwiX3RpdGxlIiwiX3VzZXJBdmF0YXIiLCJ0cmltIiwiYWxsIiwiY2FyZHMiXSwic291cmNlUm9vdCI6IiJ9